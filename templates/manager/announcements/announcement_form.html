{% extends 'manager/base.html' %}
{% block title %}{{ action }} Announcement{% endblock %}
{% block content %}
<h2 class="text-3xl font-bold mb-6">{{ action }} Announcement</h2>
<div class="bg-white rounded-lg shadow-md p-8 max-w-3xl">
    <form method="post">
        {% csrf_token %}
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium mb-2">Title *</label>
                <input type="text" name="title" value="{% if announcement %}{{ announcement.title }}{% endif %}" required
                       class="w-full px-4 py-2 border rounded-lg">
            </div>
            <div>
                <label class="block text-sm font-medium mb-2">Content *</label>
                <textarea name="content" rows="5" required class="w-full px-4 py-2 border rounded-lg">{% if announcement %}{{ announcement.content }}{% endif %}</textarea>
            </div>
            <div>
                <label class="block text-sm font-medium mb-2">Priority *</label>
                <select name="priority" required class="w-full px-4 py-2 border rounded-lg">
                    {% for value, label in priority_choices %}
                    <option value="{{ value }}" {% if announcement and announcement.priority == value %}selected{% endif %}>{{ label }}</option>
                    {% endfor %}
                </select>
            </div>
            <label class="flex items-center">
                <input type="checkbox" name="is_active" {% if announcement and announcement.is_active or not announcement %}checked{% endif %} class="mr-2">
                Active
            </label>
            <div class="flex justify-end space-x-4 mt-6">
                <a href="{% url 'manager:announcement_list' %}" class="px-6 py-2 border rounded-lg">Cancel</a>
                <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg">Save</button>
            </div>
        </div>
    </form>
</div>
{% endblock %}
